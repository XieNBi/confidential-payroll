# ğŸ“¦ éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†æœºå¯†è–ªé…¬ç³»ç»Ÿéƒ¨ç½²åˆ° Sepolia æµ‹è¯•ç½‘ã€‚

---

## ğŸ“‹ å‰ç½®å‡†å¤‡

### 1. è·å– Sepolia ETH

æ‚¨éœ€è¦ä¸€äº› Sepolia æµ‹è¯•ç½‘ ETH æ¥éƒ¨ç½²åˆçº¦å’Œæ”¯ä»˜ Gas è´¹ç”¨ã€‚

**æ¨èæ°´é¾™å¤´:**
- https://sepoliafaucet.com/
- https://sepolia-faucet.pk910.de/
- https://www.alchemy.com/faucets/ethereum-sepolia

**æ‰€éœ€ ETH:**
- éƒ¨ç½² Simple åˆçº¦: ~0.005 ETH
- éƒ¨ç½² FHE åˆçº¦: ~0.01 ETHï¼ˆæ›´å¤æ‚ï¼‰
- æµ‹è¯•äº¤æ˜“: ~0.01 ETH
- **æ€»è®¡å»ºè®®:** 0.03 - 0.05 ETH

### 2. å‡†å¤‡ç§é’¥

1. åœ¨ MetaMask ä¸­åˆ›å»ºä¸€ä¸ªæ–°è´¦æˆ·ï¼ˆä¸“é—¨ç”¨äºéƒ¨ç½²ï¼‰
2. å¯¼å‡ºç§é’¥:
   - ç‚¹å‡»è´¦æˆ·å³ä¾§çš„ä¸‰ä¸ªç‚¹
   - é€‰æ‹©"è´¦æˆ·è¯¦æƒ…"
   - ç‚¹å‡»"å¯¼å‡ºç§é’¥"
   - è¾“å…¥å¯†ç ç¡®è®¤

âš ï¸ **å®‰å…¨è­¦å‘Š:**
- ä¸è¦ä½¿ç”¨åŒ…å«çœŸå®èµ„é‡‘çš„è´¦æˆ·
- ä¸è¦æäº¤ç§é’¥åˆ° Git
- éƒ¨ç½²åå¯ä»¥åºŸå¼ƒè¯¥è´¦æˆ·

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

å¡«å…¥æ‚¨çš„ç§é’¥:
```env
PRIVATE_KEY=your_private_key_here_without_0x_prefix
SEPOLIA_RPC_URL=https://eth-sepolia.public.blastapi.io
```

---

## ğŸ”¨ éƒ¨ç½²åˆçº¦

### æ­¥éª¤ 1: å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm install
```

### æ­¥éª¤ 2: ç¼–è¯‘åˆçº¦

```bash
npx hardhat compile
```

**é¢„æœŸè¾“å‡º:**
```
Compiled 2 Solidity files successfully
```

å¦‚æœé‡åˆ°ç¼–è¯‘é”™è¯¯ï¼Œè¯·æ£€æŸ¥:
- fhevm åº“æ˜¯å¦æ­£ç¡®å®‰è£…
- Solidity ç‰ˆæœ¬æ˜¯å¦åŒ¹é…

### æ­¥éª¤ 3: éƒ¨ç½² Simple åˆçº¦

```bash
npm run deploy:simple
```

**é¢„æœŸè¾“å‡º:**
```
ğŸ“¦ éƒ¨ç½² PayrollSimple (Fallback æµ‹è¯•åˆçº¦)...

éƒ¨ç½²è´¦æˆ·: 0x...
è´¦æˆ·ä½™é¢: 0.05 ETH

âœ… PayrollSimple éƒ¨ç½²æˆåŠŸ!
ğŸ“ åˆçº¦åœ°å€: 0x1234567890123456789012345678901234567890
ğŸ”— Sepolia Etherscan: https://sepolia.etherscan.io/address/0x...

ğŸ’¾ éƒ¨ç½²ä¿¡æ¯å·²ä¿å­˜åˆ° deployment_simple.json
```

**é‡è¦:** å¤åˆ¶åˆçº¦åœ°å€ï¼Œç¨åéœ€è¦ç”¨åˆ°ï¼

### æ­¥éª¤ 4: éƒ¨ç½² FHE åˆçº¦

```bash
npm run deploy:fhe
```

**æ³¨æ„:** FHE åˆçº¦ç¼–è¯‘å’Œéƒ¨ç½²éœ€è¦æ›´é•¿æ—¶é—´ï¼ˆå¯èƒ½ 1-2 åˆ†é’Ÿï¼‰

**é¢„æœŸè¾“å‡º:**
```
ğŸ“¦ éƒ¨ç½² PayrollFHE (FHE åŠ å¯†åˆçº¦)...

éƒ¨ç½²è´¦æˆ·: 0x...
è´¦æˆ·ä½™é¢: 0.045 ETH

æ­£åœ¨éƒ¨ç½²åˆçº¦ï¼ˆFHE åˆçº¦ç¼–è¯‘å’Œéƒ¨ç½²éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰...
âœ… PayrollFHE éƒ¨ç½²æˆåŠŸ!
ğŸ“ åˆçº¦åœ°å€: 0xabcdefabcdefabcdefabcdefabcdefabcdefabcd
ğŸ”— Sepolia Etherscan: https://sepolia.etherscan.io/address/0x...

ğŸ’¾ éƒ¨ç½²ä¿¡æ¯å·²ä¿å­˜åˆ° deployment_fhe.json
```

### æ­¥éª¤ 5: éªŒè¯éƒ¨ç½²

åœ¨ Sepolia Etherscan ä¸ŠæŸ¥çœ‹æ‚¨çš„åˆçº¦:
1. è®¿é—®è¾“å‡ºä¸­çš„ Etherscan é“¾æ¥
2. ç¡®è®¤åˆçº¦åˆ›å»ºäº¤æ˜“æˆåŠŸ
3. æŸ¥çœ‹åˆçº¦ä»£ç ï¼ˆå¯èƒ½éœ€è¦ç­‰å¾…ç´¢å¼•ï¼‰

---

## ğŸ¨ é…ç½®å‰ç«¯

### æ­¥éª¤ 1: æ›´æ–°åˆçº¦åœ°å€

ç¼–è¾‘ `frontend/src/constants/contracts.ts`:

```typescript
// éƒ¨ç½²åå¡«å†™
export const PAYROLL_SIMPLE_ADDRESS = "0x1234..."; // å¡«å…¥ Simple åˆçº¦åœ°å€
export const PAYROLL_FHE_ADDRESS = "0xabcd...";    // å¡«å…¥ FHE åˆçº¦åœ°å€
```

### æ­¥éª¤ 2: å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### æ­¥éª¤ 3: å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® `http://localhost:5173`

---

## âœ… æµ‹è¯•éƒ¨ç½²

### 1. è¿æ¥é’±åŒ…

1. æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»"è¿æ¥é’±åŒ…"
3. åœ¨ MetaMask ä¸­ç¡®è®¤è¿æ¥
4. ç¡®ä¿å·²åˆ‡æ¢åˆ° Sepolia ç½‘ç»œ

### 2. æµ‹è¯• Simple æ¨¡å¼

1. ç¡®ä¿ Gateway çŠ¶æ€æ˜¾ç¤º"ç¦»çº¿"ï¼ˆæˆ–æ‰‹åŠ¨åˆ‡æ¢åˆ° Simple æ¨¡å¼ï¼‰
2. åˆ‡æ¢åˆ°"ä¼ä¸šç«¯"
3. åˆ›å»ºä¸€ä¸ªæµ‹è¯•è–ªé…¬è®¡åˆ’:
   - åç§°: "æµ‹è¯•è®¡åˆ’"
   - å‘˜å·¥åœ°å€: ä½¿ç”¨æ‚¨çš„å¦ä¸€ä¸ªæµ‹è¯•è´¦æˆ·åœ°å€
   - è–ªèµ„: 0.001 ETH
4. ç‚¹å‡»"åˆ›å»ºè–ªé…¬è®¡åˆ’"
5. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
6. ç­‰å¾…äº¤æ˜“ç¡®è®¤ï¼ˆçº¦ 15 ç§’ï¼‰
7. è®°å½•æ˜¾ç¤ºçš„è®¡åˆ’ ID

### 3. æµ‹è¯•å‘˜å·¥é¢†å–

1. åœ¨ MetaMask ä¸­åˆ‡æ¢åˆ°å‘˜å·¥è´¦æˆ·
2. åˆ‡æ¢åˆ°"å‘˜å·¥ç«¯"
3. è¾“å…¥åˆšæ‰çš„è®¡åˆ’ ID
4. ç‚¹å‡»"æŸ¥è¯¢è–ªèµ„"
5. ç¡®è®¤æ˜¾ç¤ºæ­£ç¡®çš„è–ªèµ„é‡‘é¢
6. ç‚¹å‡»"é¢†å–è–ªèµ„"
7. åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
8. ç­‰å¾…äº¤æ˜“ç¡®è®¤
9. æ£€æŸ¥è´¦æˆ·ä½™é¢æ˜¯å¦å¢åŠ 

### 4. æµ‹è¯• FHE æ¨¡å¼ï¼ˆå¯é€‰ï¼‰

âš ï¸ **æ³¨æ„:** FHE æ¨¡å¼éœ€è¦ Gateway åœ¨çº¿ï¼Œç›®å‰å‰ç«¯çš„åŠ å¯†åŠŸèƒ½å°šæœªå®Œå…¨å®ç°ã€‚

å¦‚æœæ‚¨æƒ³æµ‹è¯• FHE æ¨¡å¼:
1. ç¡®ä¿ Gateway çŠ¶æ€æ˜¾ç¤º"åœ¨çº¿"
2. åˆ‡æ¢åˆ° FHE æ¨¡å¼
3. åˆ›å»ºè–ªé…¬è®¡åˆ’æ—¶éœ€è¦é¢å¤–çš„åŠ å¯†æ­¥éª¤
4. å‘˜å·¥æŸ¥è¯¢æ—¶éœ€è¦è§£å¯†æ“ä½œ

---

## ğŸ” éªŒè¯åˆçº¦

### åœ¨ Etherscan ä¸ŠéªŒè¯

éªŒè¯åˆçº¦å¯ä»¥è®©å…¶ä»–äººæŸ¥çœ‹æ‚¨çš„æºä»£ç ã€‚

#### ä½¿ç”¨ Hardhat éªŒè¯

```bash
# å®‰è£…éªŒè¯æ’ä»¶
npm install --save-dev @nomicfoundation/hardhat-verify

# é…ç½® API Keyï¼ˆåœ¨ hardhat.config.js ä¸­æ·»åŠ ï¼‰
etherscan: {
  apiKey: "YOUR_ETHERSCAN_API_KEY"
}

# éªŒè¯ Simple åˆçº¦
npx hardhat verify --network sepolia SIMPLE_CONTRACT_ADDRESS

# éªŒè¯ FHE åˆçº¦
npx hardhat verify --network sepolia FHE_CONTRACT_ADDRESS
```

#### æ‰‹åŠ¨éªŒè¯

1. è®¿é—® Sepolia Etherscan
2. æ‰¾åˆ°æ‚¨çš„åˆçº¦
3. ç‚¹å‡»"Contract"æ ‡ç­¾
4. ç‚¹å‡»"Verify and Publish"
5. é€‰æ‹©ç¼–è¯‘å™¨ç‰ˆæœ¬: 0.8.20 (Simple) æˆ– 0.8.24 (FHE)
6. ä¸Šä¼ åˆçº¦æºä»£ç 
7. æäº¤éªŒè¯

---

## ğŸš€ ç”Ÿäº§éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨æƒ³éƒ¨ç½²åˆ°ä¸»ç½‘æˆ–å…¶ä»–ç½‘ç»œ:

### 1. æ›´æ–°ç½‘ç»œé…ç½®

ç¼–è¾‘ `hardhat.config.js`:

```javascript
networks: {
  mainnet: {
    url: process.env.MAINNET_RPC_URL,
    accounts: [process.env.PRIVATE_KEY],
    chainId: 1
  }
}
```

### 2. æ›´æ–°å‰ç«¯é…ç½®

ç¼–è¾‘ `frontend/src/constants/contracts.ts`:

```typescript
export const NETWORK_CONFIG = {
  chainId: 1,  // Mainnet
  name: "Ethereum Mainnet",
  // ...
};
```

### 3. éƒ¨ç½²åˆ°ä¸»ç½‘

```bash
npm run deploy:simple -- --network mainnet
npm run deploy:fhe -- --network mainnet
```

âš ï¸ **ä¸»ç½‘éƒ¨ç½²æ³¨æ„äº‹é¡¹:**
- éœ€è¦çœŸå®çš„ ETH
- Gas è´¹ç”¨æ›´é«˜
- æ— æ³•æ’¤é”€
- ç¡®ä¿å……åˆ†æµ‹è¯•åå†éƒ¨ç½²

---

## ğŸ“Š éƒ¨ç½²æˆæœ¬ä¼°ç®—

### Sepolia æµ‹è¯•ç½‘

| é¡¹ç›® | Gas ä¼°ç®— | ETH (å‡è®¾ 20 Gwei) |
|------|----------|-------------------|
| Simple åˆçº¦éƒ¨ç½² | ~500,000 | ~0.01 ETH |
| FHE åˆçº¦éƒ¨ç½² | ~1,000,000 | ~0.02 ETH |
| åˆ›å»ºè–ªé…¬è®¡åˆ’ | ~200,000 | ~0.004 ETH |
| é¢†å–è–ªèµ„ | ~50,000 | ~0.001 ETH |

### ä»¥å¤ªåŠä¸»ç½‘ï¼ˆå‚è€ƒï¼‰

Gas ä»·æ ¼æ³¢åŠ¨è¾ƒå¤§ï¼Œå»ºè®®åœ¨ [ETH Gas Station](https://ethgasstation.info/) æŸ¥çœ‹å®æ—¶ä»·æ ¼ã€‚

---

## ğŸ› å¸¸è§éƒ¨ç½²é—®é¢˜

### é—®é¢˜ 1: ç§é’¥æ ¼å¼é”™è¯¯

```
Error: invalid private key
```

**è§£å†³æ–¹æ¡ˆ:**
- ç¡®ä¿ç§é’¥æ˜¯ 64 ä½åå…­è¿›åˆ¶å­—ç¬¦ä¸²
- ä¸è¦åŒ…å« `0x` å‰ç¼€
- æ£€æŸ¥æ˜¯å¦æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–æ¢è¡Œ

### é—®é¢˜ 2: ä½™é¢ä¸è¶³

```
Error: insufficient funds for gas
```

**è§£å†³æ–¹æ¡ˆ:**
- è®¿é—®æ°´é¾™å¤´è·å–æ›´å¤šæµ‹è¯• ETH
- æ£€æŸ¥è´¦æˆ·åœ°å€æ˜¯å¦æ­£ç¡®

### é—®é¢˜ 3: ç½‘ç»œè¿æ¥å¤±è´¥

```
Error: could not detect network
```

**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•ä½¿ç”¨ä¸åŒçš„ RPC URL
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜ 4: åˆçº¦ç¼–è¯‘å¤±è´¥

```
Error: Compiler version not found
```

**è§£å†³æ–¹æ¡ˆ:**
```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
npx hardhat clean
npx hardhat compile
```

---

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰æ£€æŸ¥:
- [ ] å·²è·å–è¶³å¤Ÿçš„ Sepolia ETH
- [ ] å·²é…ç½® .env æ–‡ä»¶
- [ ] å·²å®‰è£…æ‰€æœ‰ä¾èµ–
- [ ] å·²æµ‹è¯•ç¼–è¯‘é€šè¿‡

éƒ¨ç½²åæ£€æŸ¥:
- [ ] åˆçº¦éƒ¨ç½²æˆåŠŸ
- [ ] å·²åœ¨ Etherscan ä¸ŠéªŒè¯
- [ ] å·²æ›´æ–°å‰ç«¯åˆçº¦åœ°å€
- [ ] å·²æµ‹è¯•åˆ›å»ºè–ªé…¬è®¡åˆ’
- [ ] å·²æµ‹è¯•å‘˜å·¥é¢†å–
- [ ] å·²æµ‹è¯• Gateway Fallback

---

## ğŸ‰ å®Œæˆï¼

æ­å–œï¼æ‚¨å·²æˆåŠŸéƒ¨ç½²æœºå¯†è–ªé…¬ç³»ç»Ÿã€‚

**ä¸‹ä¸€æ­¥:**
- æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹
- å‡†å¤‡æ¼”ç¤ºè§†é¢‘
- æäº¤åˆ° Zama Developer Program

**éœ€è¦å¸®åŠ©?**
- æŸ¥çœ‹ [README.md](README.md)
- æŸ¥çœ‹ [æ•…éšœæ’æŸ¥](#-å¸¸è§éƒ¨ç½²é—®é¢˜)
- æäº¤ Issue

---

**ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

